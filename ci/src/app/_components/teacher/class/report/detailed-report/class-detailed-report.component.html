<div class="subtitle text-center">Detailed Report</div>
<form novalidate #form="ngForm" class="report-data">
  <div class="table-responsive">
    <table matSort (matSortChange)="sortData($event)" class="table">
      <thead>
      <tr>
        <th mat-sort-header="name" scope="col">Student</th>
        <th scope="col" *ngFor="let app of assignments" class="assignment-table-row">{{app.name}}</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let student of students | tableFilter: form.value" style="cursor: pointer;">
        <td>{{student.name}}</td>
        <td *ngFor="let app of assignments" [class]="student.assignments[app.id].status" class="assignment-table-row">
          {{student.assignments[app.id].status == 'completed' ? 'Completed' :
                (student.assignments[app.id].status == 'overdue' ? 'Overdue' : student.assignments[app.id].status == 'progress' ?  'In progress' : 'Pending')}}
          <div *ngIf="student.assignments[app.id].progress > 0 && student.assignments[app.id].progress < 1">
            <span style="font-size: 0.8em;">{{student.assignments[app.id].progress * 100}}%</span>
            <mat-progress-bar  mode="determinate" [value]="student.assignments[app.id].progress * 100"></mat-progress-bar>
          </div>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</form>
